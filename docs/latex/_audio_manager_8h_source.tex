\doxysection{Audio\+Manager.\+h}
\hypertarget{_audio_manager_8h_source}{}\label{_audio_manager_8h_source}\index{Before Crisis/AudioManager.h@{Before Crisis/AudioManager.h}}
\mbox{\hyperlink{_audio_manager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}SFML/Audio.hpp"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_audio_variables_8h}{AudioVariables.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_audio_service_8h}{AudioService.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_audio_manager}{AudioManager}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_audio_service}{AudioService}}}
\DoxyCodeLine{00007\ \{}
\DoxyCodeLine{00008\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00009\ \ \ \ \ std::unordered\_map<SoundID,\ sf::SoundBuffer>\ \mbox{\hyperlink{class_audio_manager_a7b5509967469a09c56b3786cc6bc7d8b}{\_buffers}};}
\DoxyCodeLine{00010\ \ \ \ \ std::unordered\_map<MusicID,\ std::string>\ \mbox{\hyperlink{class_audio_manager_abee5afd765c0b96eafc4ff0f46974271}{\_musicFiles}};}
\DoxyCodeLine{00011\ \ \ \ \ std::vector<std::unique\_ptr<sf::Sound>>\ \mbox{\hyperlink{class_audio_manager_af52e2aef3e24ef13da6bf4ef18611843}{\_activeSounds}};}
\DoxyCodeLine{00012\ \ \ \ \ std::unique\_ptr<sf::Music>\ \mbox{\hyperlink{class_audio_manager_a9882ce937f862f7df04948acea895846}{\_currentMusic}};}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_audio_manager_ab5cb8bced5b13555b1d501ac052122cc}{\_masterVolume}}\ =\ 1.f;}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_audio_manager_a6123487a877dbed25f505664d99981bf}{loadAllSounds}}();}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_audio_manager_a88643f22246dd1922ccb2f467d9f346a}{loadAllMusic}}();}
\DoxyCodeLine{00016\ \ \ \ \ sf::Sound*\ \mbox{\hyperlink{class_audio_manager_ae8b16b660da846da3030b2858488f8fd}{spawnSoundInstance}}(\mbox{\hyperlink{_audio_variables_8h_aa4689ee7c9a692044aebd36cb0915e61}{SoundID}}\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_audio_manager_a60614abe9454fe7eb62f58c23f1d6a05}{\_fadeDuration}}\ =\ 0.f;\ \ \ \textcolor{comment}{//\ длительность\ текущего\ перехода}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_audio_manager_a1c634e2afe0836f3f621561cd5a2b23b}{\_fadeTimer}}\ =\ 0.f;\ \ \ \textcolor{comment}{//\ сколько\ времени\ уже\ прошло}}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_audio_manager_a310d6ca9eff1cfe9f33ad501fc5aef83}{\_startVolume}}\ =\ 0.f;\ \ \ \textcolor{comment}{//\ громкость\ в\ начале\ перехода}}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_audio_manager_af6d693c84cf30ef4d7ef32fa446edba2}{\_targetVolume}}\ =\ 0.f;\ \ \ \textcolor{comment}{//\ к\ какой\ громкости\ хотим\ прийти}}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{class_audio_manager_a2866ac4b83d8a162369637e7ede12f20}{FadeState}}\ \{\ \mbox{\hyperlink{class_audio_manager_a2866ac4b83d8a162369637e7ede12f20ae599161956d626eda4cb0a5ffb85271c}{Idle}},\ \mbox{\hyperlink{class_audio_manager_a2866ac4b83d8a162369637e7ede12f20a6830a6bcb5563d6b8ba7bafda3eda348}{FadingIn}},\ \mbox{\hyperlink{class_audio_manager_a2866ac4b83d8a162369637e7ede12f20a2ddb22b5f505aaafbe118c502a5a56ac}{FadingOut}}\ \}\ \mbox{\hyperlink{class_audio_manager_a26f14983fc89f3f1bea2758233e097fe}{\_fadeState}}\ =\ \mbox{\hyperlink{class_audio_manager_a2866ac4b83d8a162369637e7ede12f20ae599161956d626eda4cb0a5ffb85271c}{FadeState::Idle}};}
\DoxyCodeLine{00023\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_audio_manager_af5b889c6fa18bed65044d42a946e4596}{init}}();}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_audio_manager_ae8e55be0b8ce52441b753df6f653cc01}{playSound}}(\mbox{\hyperlink{_audio_variables_8h_aa4689ee7c9a692044aebd36cb0915e61}{SoundID}}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{float}\ volume\ =\ 100.f,\ \textcolor{keywordtype}{float}\ pitch\ =\ 1.f)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_audio_manager_a73760d6a91b6c7ca353e6518a4d4360a}{playMusic}}(\mbox{\hyperlink{_audio_variables_8h_a68946471db0c45b6ce503ef14572f078}{MusicID}}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{float}\ fadeInSec\ =\ 0.5f)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_audio_manager_aaaccf7d4d188bbaec8c4812da9c76727}{stopMusic}}(\textcolor{keywordtype}{float}\ fadeOutSec\ =\ 0.5f)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_audio_manager_a6ace00915e164c145d425615dfa621b2}{setMasterVolume}}(\textcolor{keywordtype}{float}\ vol)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_audio_manager_a531d4972bde7ba362e3786765fab68ea}{update}}(\textcolor{keywordtype}{float}\ dt)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00030\ \};}
\DoxyCodeLine{00031\ }

\end{DoxyCode}
